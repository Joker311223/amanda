<view class="page-container">
  <!-- È°∂ÈÉ®ÁßØÂàÜÂíåËøõÂ∫¶Êù° -->
  <view class="header">
    <view class="score-display">
      <view class="star-icon">‚≠ê</view>
      <text class="score-text">{{totalScore}} ÂàÜ</text>
    </view>
  </view>

  <view class="progress-section">
    <view class="progress-label">Â≠¶‰π†ËøõÂ∫¶</view>
    <view class="progress-bar-container">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{progressPercent}}%"></view>
        <view class="progress-indicator" style="left: {{progressPercent}}%">
          <view class="indicator-circle"></view>
        </view>
      </view>
      <text class="progress-text">{{progressPercent}}%</text>
    </view>
  </view>

  <!-- Â≠¶‰π†Ë∑ØÂæÑ -->
  <scroll-view class="roadmap-scroll" scroll-y="true">
    <view class="roadmap-container">
      <view
        class="level-node {{item.type}} {{item.courseCompleted ? 'completed' : ''}} {{item.current ? 'current' : ''}} {{item.locked ? 'locked' : ''}}"
        wx:for="{{courses}}"
        wx:key="id"
        style="{{item.position}}"
        bindtap="onNodeClick"
        data-course="{{item}}"
      >
        <view class="node-border">
          <view class="node-content">
            <!-- ÊñáÊ°£Á±ªÂûãÂõæÊ†á -->
            <view wx:if="{{item.type === 'lesson'}}" class="lesson-icon">
              <view class="document-icon">
                <view class="doc-lines"></view>
                <view class="doc-lines"></view>
                <view class="doc-lines"></view>
              </view>
              <view wx:if="{{item.courseCompleted}}" class="check-mark">‚úì</view>
            </view>

            <!-- ËßíËâ≤Á±ªÂûãÂõæÊ†á -->
            <view wx:if="{{item.type === 'character'}}" class="character-icon">
              <text class="character-emoji">{{item.emoji}}</text>
              <!-- Ë£ÖÈ•∞ÊòüÊòü -->
              <view wx:if="{{item.current}}" class="decoration-stars">
                <text class="deco-star star-1">‚ú®</text>
                <text class="deco-star star-2">‚ú®</text>
                <text class="deco-star star-3">‚ú®</text>
                <text class="deco-star star-4">‚ú®</text>
              </view>
            </view>

            <!-- ÈîÅÂÆöÂõæÊ†á -->
            <view wx:if="{{item.locked}}" class="lock-overlay">
              <text class="lock-icon">üîí</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>
