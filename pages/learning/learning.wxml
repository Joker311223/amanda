<view class="page-container">
  <!-- ç»éªŒå€¼æ˜¾ç¤º -->
  <view class="experience-badge">
    <text class="star">â­</text>
    <text>{{totalExperience}}åˆ†</text>
  </view>
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <view class="header-card card">
      <view class="card-header">
        <text>å­¦ä¹ ä¸­å¿ƒ</text>
      </view>
    </view>
  </view>
  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-bar">
      <view class="search-icon">ğŸ”</view>
      <input class="search-input" placeholder="Search..." value="{{searchKeyword}}" bindinput="onSearchInput" />
    </view>
  </view>
  <!-- å¿«æ·æ“ä½œ -->
  <view class="quick-actions-section">
    <view class="quick-actions-card card">
      <view class="card-header">
        <text>æŸ¥çœ‹è¯¾ç¨‹å›é¡¾å’Œä½œä¸šå›é¡¾</text>
      </view>
      <view class="card-content">
        <view class="quick-buttons">
          <button class="btn {{nowPage==='è¯¾ç¨‹å›é¡¾'? 'btn-primary' : 'btn-outline'}}" bindtap="goToCourseReview">
            è¯¾ç¨‹å›é¡¾
          </button>
          <button class="btn {{nowPage==='ä½œä¸šå›é¡¾'? 'btn-primary' : 'btn-outline'}}" bindtap="goToAssignmentReview">
            ä½œä¸šå›é¡¾
          </button>
        </view>
      </view>
    </view>
  </view>
  <!-- è¯¾ç¨‹å›é¡¾ -->
  <view wx:if="{{nowPage==='è¯¾ç¨‹å›é¡¾'}}" class="courses-section">
    <view class="course-card {{item.status === 'locked' ? 'locked' : ''}}" wx:for="{{filteredCourses}}" wx:key="id" bindtap="onCourseClick" data-course-id="{{item.id}}">
      <view class="course-header">
        <view class="course-icon {{item.status}}">
          <text wx:if="{{item.status === 'completed'}}">âœ…</text>
          <text wx:elif="{{item.status === 'available'}}">â°</text>
          <text wx:else>ğŸ”’</text>
        </view>
        <view class="course-info">
          <view class="course-meta">
            <image class="course-image" src="{{item.icon}}" data-course-id="{{item.id}}" bindtap="startLearning" />
            <text class="course-time">{{item.title}}</text>
          </view>
        </view>
        <view class="course-actions">
          <view wx:if="{{item.status === 'completed'}}" class="status-tag status-completed">
            å·²å®Œæˆ
          </view>
          <view wx:elif="{{item.status === 'available'}}" class="status-tag status-available">
            å¯å­¦ä¹ 
          </view>
          <view wx:else class="status-tag status-locked">æœªè§£é”</view>
          <view class="course-buttons">
            <button wx:if="{{item.status !== 'locked'}}" class="btn btn-secondary course-btn" bindtap="startLearning" data-course-id="{{item.id}}" catchtap="true">
              {{item.status === 'completed' ? 'å·²å®Œæˆ' : 'å¯å­¦ä¹ '}}
            </button>
          </view>
        </view>
        <view class="course-experience">
          <text class="experience-text">{{item.experience}}åˆ†</text>
        </view>
      </view>
    </view>
  </view>
  <!-- ä½œä¸šåˆ—è¡¨ -->
  <view wx:if="{{nowPage==='ä½œä¸šå›é¡¾'}}" class="courses-section">
    <view class="course-card {{item.status === 'locked' ? 'locked' : ''}}" wx:for="{{assignments}}" wx:key="id" bindtap="jumpToZuoye" data-zuoye-id="{{item.id}}">
      <view class="course-header">
        <view class="course-icon {{item.status}}">
          <text wx:if="{{item.status === 'completed'}}">âœ…</text>
          <text wx:elif="{{item.status === 'available'}}">â°</text>
          <text wx:else>ğŸ”’</text>
        </view>
        <view class="course-info">
          <text class="course-title">{{item.title}}</text>
          <view class="course-meta">
            <text class="course-duration">â–¶ï¸ {{item.status === 'completed' ? 'é‡æ’­' : 'å­¦ä¹ '}}</text>
            <text class="course-time">{{item.duration}}</text>
          </view>
        </view>
        <view class="course-actions">
          <view wx:if="{{item.status === 'completed'}}" class="status-tag status-completed">
            å·²å®Œæˆ
          </view>
          <view wx:elif="{{item.status === 'available'}}" class="status-tag status-available">
            å¯å­¦ä¹ 
          </view>
          <view wx:else class="status-tag status-locked">æœªè§£é”</view>
          <view class="course-buttons">
            <button wx:if="{{item.status !== 'locked'}}" class="btn btn-secondary course-btn" >
              {{item.status === 'completed' ? 'å·²å®Œæˆ' : 'å¯å­¦ä¹ '}}
            </button>
            <button wx:if="{{item.status === 'completed'}}" class="btn btn-primary course-btn" bindtap="jumpToZuoye" data-zuoye-id="{{item.id}}">
              æŸ¥çœ‹ä½œä¸š
            </button>
             <button wx:if="{{item.status === 'available'}}" class="btn btn-primary course-btn" bindtap="jumpToZuoye" data-zuoye-id="{{item.id}}">
              å¼€å§‹ä½œä¸š
            </button>
            <button wx:if="{{item.status === 'locked'}}" class="btn btn-disabled course-btn" disabled>
              æœªè§£é”
            </button>
          </view>
        </view>
        <view class="course-experience">
          <text class="experience-text">{{item.experience}}åˆ†</text>
        </view>
      </view>
    </view>
  </view>
  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{filteredCourses.length === 0}}" class="empty-state">
    <view class="empty-icon">ğŸ“š</view>
    <text class="empty-text">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³è¯¾ç¨‹</text>
  </view>
</view>