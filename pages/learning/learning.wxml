<view class="page-container">
  <!-- ç»éªŒå€¼æ˜¾ç¤º -->
  <view class="experience-badge">
    <text class="star">â­</text>
    <text>{{totalExperience}}åˆ†</text>
  </view>
  <!-- æœç´¢æ  -->
  <view class="search-section">
    <view class="search-bar">
      <view class="search-icon">ğŸ”</view>
      <input class="search-input" placeholder="Search..." value="{{searchKeyword}}" bindinput="onSearchInput" />
    </view>
  </view>
  <!-- å¿«æ·æ“ä½œ -->
  <view class="quick-actions-section">
    <view class="quick-actions-card card">
      <view class="card-header">
        <text>æŸ¥çœ‹è¯¾ç¨‹å›é¡¾å’Œä½œä¸šå›é¡¾</text>
      </view>
      <view class="card-content">
        <view class="quick-buttons">
          <button class="btn {{nowPage==='è¯¾ç¨‹å›é¡¾'? 'btn-primary' : 'btn-outline'}}" bindtap="goToCourseReview">
            è¯¾ç¨‹å›é¡¾
          </button>
          <button class="btn {{nowPage==='ä½œä¸šå›é¡¾'? 'btn-primary' : 'btn-outline'}}" bindtap="goToAssignmentReview">
            ä½œä¸šå›é¡¾
          </button>
        </view>
      </view>
    </view>
  </view>
  <!-- è¯¾ç¨‹å›é¡¾ -->
  <view wx:if="{{nowPage==='è¯¾ç¨‹å›é¡¾'}}" class="courses-section">
    <view class="course-card {{item.status === 'locked' ? 'locked' : ''}}" wx:for="{{filteredCourses}}" wx:key="id" bindtap="onCourseClick" data-course-id="{{item.id}}">
      <view class="course-header">
        <view class="course-icon {{item.status}}">
          <image wx:if="{{item.status === 'completed'}}" src="/images/xuexi-wancheng.svg" />
          <image wx:elif="{{item.status === 'available'}}" src="/images/xuexi-daikaifa.svg" />
          <image wx:else src="/images/xuexi-suoding.svg" />
        </view>
        <view class="course-info">
          <view class="course-meta">
            <image class="course-image" src="{{item.icon}}" data-course-id="{{item.id}}" bindtap="startLearning" />
            <text class="course-time">{{item.title}}</text>
          </view>
        </view>
        <view class="course-actions">
          <view wx:if="{{item.status === 'completed'}}" class="status-tag status-completed">
            <text class="status-text">å¯å­¦ä¹ </text>
          </view>
          <view wx:elif="{{item.status === 'available'}}" class="status-tag status-available">
            <text class="status-text">å¾…å­¦ä¹ </text>
          </view>
          <view wx:else class="status-tag status-locked">
            <text class="status-text">æœªè§£é”</text>
          </view>
          <view class="zuoye-right">
            <image wx:if="{{item.status!=='completed'}}" src="/images/xuexi-icon.svg" class="xuexi-icon" data-course-id="{{item.id}}" bindtap="startLearning"/>
            <image wx:else src="/images/chongbo-icon.svg" class="xuexi-icon" data-course-id="{{item.id}}" bindtap="startLearning"/>
            <text class="xuexi-text">{{item.duration}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
  <!-- ä½œä¸šåˆ—è¡¨ -->
  <view wx:if="{{nowPage==='ä½œä¸šå›é¡¾'}}" class="courses-section">
    <view class="assignment-card {{item.status === 'locked' ? 'locked' : ''}}" wx:for="{{assignments}}" wx:key="id" data-zuoye-id="{{item.id}}">
      <!-- å·¦ä¾§çŠ¶æ€å›¾æ ‡ -->
      <!-- ä¸­é—´å†…å®¹åŒºåŸŸ -->
      <view class="assignment-content">
        <!-- æ ‡é¢˜ -->
        <view class="assignment-title">
          <view class="assignment-status-icon">
            <image wx:if="{{item.status === 'completed'}}" src="/images/xuexi-wancheng.svg" mode="aspectFit" />
            <image wx:elif="{{item.status === 'available'}}" src="/images/xuexi-daikaifa.svg" mode="aspectFit" />
            <image wx:else src="/images/xuexi-suoding.svg" mode="aspectFit" />
          </view>
          <text class="assignment-title-text">{{item.title}}</text>
        </view>
        <!-- æŒ‰é’®ç»„ -->
        <view class="assignment-buttons">
          <!-- å·²å®ŒæˆæŒ‰é’® -->
          <image src="/images/yiwancheng.svg" wx:if="{{item.status === 'completed'}}" class="assignment-btn-img" />
          <!-- æŸ¥çœ‹ä½œä¸šæŒ‰é’® -->
          <image src="/images/chakanzuoye.svg" wx:if="{{item.status === 'completed'}}" class="assignment-btn-img" bindtap="viewAssignment" data-zuoye-id="{{item.id}}" />
          <!-- å¾…æ‰“å¡æŒ‰é’® -->
          <image src="/images/daidaka.svg" wx:if="{{item.status === 'available'}}" class="assignment-btn-img" />
          <!-- å¼€å§‹å­¦ä¹  -->
          <image src="/images/kaishixuexi.svg" wx:if="{{item.status === 'available'}}" class="assignment-btn-img" bindtap="jumpToZuoye" data-zuoye-id="{{item.id}}" />
          <!-- æœªè§£é”æŒ‰é’® -->
          <image src="/images/weijiesuo.svg" wx:if="{{item.status === 'locked'}}" class="assignment-btn-img" />
        </view>
      </view>
      <!-- å³ä¾§ç»éªŒå€¼ -->
      <view class="assignment-experience">
        <image class="star-icon" src="/images/xingxing.svg" mode="aspectFit" />
        <view class="experience-value">
          <text class="experience-number">{{item.experience || 30}}</text>
          <text class="experience-unit">åˆ†</text>
        </view>
      </view>
    </view>
  </view>
  <!-- ç©ºçŠ¶æ€ -->
  <view wx:if="{{filteredCourses.length === 0}}" class="empty-state">
    <view class="empty-icon">ğŸ“š</view>
    <text class="empty-text">æ²¡æœ‰æ‰¾åˆ°ç›¸å…³è¯¾ç¨‹</text>
  </view>
</view>